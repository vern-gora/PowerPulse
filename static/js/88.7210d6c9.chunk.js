"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[88],{88:function(e,t,s){s.r(t),s.d(t,{default:function(){return Ne}});var r=s(9439),c=s(2791),a=s(9434),n=s(184),o=function(e){var t=e.title,s=e.style;return(0,n.jsx)("h2",{className:s,children:t})},l=s(5125),i="ProductsItem_cardContainer__Ho9Ps",d="ProductsItem_cardHeadContainer__mQH6j",u="ProductsItem_cardCategoryName__tWROl",_="ProductsItem_addProductBtn__FlW25",h="ProductsItem_addBtnIcon__D7JeO",m="ProductsItem_recommendWrapper__atAvR",p="ProductsItem_labelRecommend__ZlNgg",g="ProductsItem_recommendText__tCLoD",x="ProductsItem_singleCardTitle__-ILEZ",j="ProductsItem_cardRunningIcon__CZ0xb",N="ProductsItem_cardHeaderWrapper__D6Zzb",f="ProductsItem_cardProductStats__0Ausm",P="ProductsItem_cardProdStatItem__CpHza",C="ProductsItem_cardProdStatItemText__1Sjmb",w="ProductsItem_productItem__rV6k2",v={getProducts:function(e){return e.info.products.productList},getIsLoading:function(e){return e.info.products.isLoading},getProductsCategories:function(e){return e.info.products.productsCategories},getFilter:function(e){return e.info.products.filter},getCurrentProduct:function(e){return e.info.products.currentProduct}},b=function(e){var t=e.onOpenModal,s=e.categoryFilter,r=(0,a.v9)(v.getProducts),c=(0,a.v9)(v.getFilter);return r.slice(0,20).filter((function(e){return e.title.toLowerCase().includes(c.toLowerCase())})).filter((function(e){return e.category.toLowerCase().includes(s.toLowerCase())})).map((function(e){var s=e.category,r=e.calories,c=e.title,a=e.weight,o=e._id;return(0,n.jsx)("li",{"data-id":o,className:w,children:(0,n.jsxs)("div",{className:i,children:[(0,n.jsxs)("div",{className:d,children:[(0,n.jsx)("div",{className:u,children:"Diet"}),(0,n.jsxs)("div",{className:m,children:[(0,n.jsx)("span",{className:p}),(0,n.jsx)("p",{className:g,children:"Recommended"})]}),(0,n.jsxs)("button",{type:"button",className:_,onClick:t,children:["Add",(0,n.jsx)("svg",{className:h,width:"16",height:"16",children:(0,n.jsx)("use",{href:l.Z+"#arrow_add_icon"})})]})]}),(0,n.jsxs)("div",{className:N,children:[(0,n.jsx)("svg",{className:j,width:"24",height:"24",children:(0,n.jsx)("use",{href:l.Z+"#running_stick_figure_icon"})}),(0,n.jsx)("h3",{className:x,children:c})]}),(0,n.jsxs)("div",{className:f,children:[(0,n.jsxs)("p",{className:P,children:[(0,n.jsx)("span",{className:C,children:"Calories:"})," ",r]}),(0,n.jsxs)("p",{className:P,children:[(0,n.jsx)("span",{className:C,children:"Category: "}),s]}),(0,n.jsxs)("p",{className:P,children:[(0,n.jsx)("span",{className:C,children:"Weight:"})," ",a]})]})]})},o)}))},y="FilterProducts_searchLabel__FkkTn",I="FilterProducts_searchIcon__nn4HX",D="FilterProducts_filterBtn__hcT2I",S="FilterProducts_searchField__1sFnJ",B="FilterProducts_clearSearchIcon__F+9OF",F="FilterProducts_clearFilterBtn__R6Yqk",M=s(4494),k=function(){var e=(0,c.useState)(!0),t=(0,r.Z)(e,2),s=t[0],o=t[1],i=(0,a.I0)(),d=(0,a.v9)(v.getFilter);return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("label",{className:y,children:[(0,n.jsx)("button",{type:"button",className:D,children:(0,n.jsx)("svg",{className:I,width:"18",height:"18",children:(0,n.jsx)("use",{href:l.Z+"#search_icon"})})}),!s&&(0,n.jsx)("button",{className:F,type:"button",onClick:function(){o(!0),i((0,M.Dg)())},children:(0,n.jsx)("svg",{className:B,width:"18",height:"18",children:(0,n.jsx)("use",{href:l.Z+"#close_icon"})})}),(0,n.jsx)("input",{className:S,type:"text",placeholder:"Search",value:d,onChange:function(e){o(!1),i((0,M.ft)(e.currentTarget.value))}})]})})},W="DropDownSelectors_categoryListWrapper__ML40J",Z="DropDownSelectors_dropBtnDown__59GGP",L="DropDownSelectors_dropDownIcon__5aEDt",A="DropDownSelectors_catDropList__YaOVf",T="DropDownSelectors_categoryItem__7CNZq",R="DropDownSelectors_selectCatBtn__HVorH",H="DropDownSelectors_dropDownAllWrapper__2UmxQ",O="DropDownSelectors_dropAllBtn__FRZLp",E="DropDownSelectors_allDropList__mm178",V=function(e){var t=e.onCategoryFilterSelect,s=(0,c.useState)(!1),o=(0,r.Z)(s,2),i=o[0],d=o[1],u=(0,c.useState)(!1),_=(0,r.Z)(u,2),h=_[0],m=_[1],p=(0,a.v9)(v.getProductsCategories),g=function(){m(!1)},x=function(e){var s=e.currentTarget.dataset.category;t(s),d(!1)};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:W,children:[(0,n.jsxs)("button",{type:"button",className:Z,onClick:function(){d(!0),m(!1),i&&d(!1)},children:["Categories",(0,n.jsx)("svg",{className:L,width:"18",height:"18",children:(0,n.jsx)("use",{href:l.Z+"#icon-chevron-down"})})]}),i&&(0,n.jsx)("ul",{className:A,children:p.map((function(e){return(0,n.jsx)("li",{className:T,children:(0,n.jsx)("button",{type:"button",className:R,onClick:x,"data-category":e,children:e})},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;return crypto.getRandomValues(new Uint8Array(e)).reduce((function(e,t){return e+((t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_")}),"")}(5))}))})]}),(0,n.jsxs)("div",{className:H,children:[(0,n.jsxs)("button",{type:"button",className:O,onClick:function(){m(!0),d(!1),h&&m(!1)},children:["All",(0,n.jsx)("svg",{className:L,width:"18",height:"18",children:(0,n.jsx)("use",{href:l.Z+"#icon-chevron-down"})})]}),h&&(0,n.jsxs)("ul",{className:E,children:[(0,n.jsx)("button",{type:"button",className:R,onClick:g,children:"All"}),(0,n.jsx)("button",{type:"button",className:R,onClick:g,children:"Recommended"}),(0,n.jsx)("button",{type:"button",className:R,onClick:g,children:"Not recommended"})]})]})]})},J=s(5748),U="ProductsPage_dropDownContainer__VJh-k",Y="ProductsPage_productsTitle__IauG3",Q="ProductsPage_prodContainer__QPuXY",q="ProductsPage_desktopCntrlWrap__OtYxc",z="ProductsPage_cardsWrapper__k697g",G="ProductsPage_filtersTitle__MASnC",X="ProductsPage_filtersCtrls__Sl8V6",K=s(1413),$=s(4164),ee=s(5705),te="BasicModalWindow_overlay__s-mcD",se="BasicModalWindow_basicModalContainer__P3nRC",re="BasicModalWindow_selectedProductDescr__+Yh-+",ce="BasicModalWindow_productCardPopUp__d3+uW",ae="BasicModalWindow_caloriesCount__qECr1",ne="BasicModalWindow_basicModalSelectedProduct__z2jpB",oe="BasicModalWindow_basicModalFormInput__bpJz9",le="BasicModalWindow_weightLabel__gPTUQ",ie="BasicModalWindow_closeBasicModal__hSwTK",de="BasicModalWindow_closeBasicModalIcon__bsEtp",ue="BasicModalWindow_basicModalForm__fk1Ur",_e="BasicModalWindow_selectedProdBtns__d3Fm6",he="BasicModalWindow_addDiaryBtn__nsOIB",me="BasicModalWindow_cancelAddBtn__eWEAQ",pe="BasicModalWindow_kcalNumber__dxhRY",ge=document.querySelector("#modal-root"),xe=function(e){var t=e.onCloseModal,s=(0,c.useState)(0),o=(0,r.Z)(s,2),i=o[0],d=o[1],u=(0,a.v9)(v.getCurrentProduct),_=u.title,h=i*u.calories/100;return(0,$.createPortal)((0,n.jsx)("div",{className:te,children:(0,n.jsxs)("div",{className:se,children:[(0,n.jsx)("button",{type:"button",className:ie,onClick:t,children:(0,n.jsx)("svg",{className:de,width:"22",height:"22",children:(0,n.jsx)("use",{href:l.Z+"#close_icon"})})}),(0,n.jsxs)("div",{className:re,children:[(0,n.jsxs)("div",{className:ce,children:[(0,n.jsx)(ee.J9,{initialValues:{product:_},children:(0,n.jsxs)(ee.l0,{className:ue,children:[(0,n.jsx)(ee.gN,{as:function(e){return(0,n.jsx)("input",(0,K.Z)({className:ne,type:"text",value:_},e))},name:"product",value:_,className:ne}),(0,n.jsx)(ee.gN,{className:oe,type:"text",name:"weight",label:"grams",onChange:function(e){d(e.currentTarget.value)}})]})}),(0,n.jsx)("span",{className:le,children:"grams"})]}),(0,n.jsxs)("p",{className:ae,children:["Calories:",(0,n.jsxs)("span",{className:pe,children:[" ",h||0]})]}),(0,n.jsxs)("div",{className:_e,children:[(0,n.jsx)("button",{type:"button",className:he,children:"Add to diary"}),(0,n.jsx)("button",{type:"button",className:me,onClick:t,children:"Cancel"})]})]})]})}),ge)},je=s(5612),Ne=function(){var e=(0,c.useState)(!1),t=(0,r.Z)(e,2),s=t[0],l=t[1],i=(0,c.useState)(""),d=(0,r.Z)(i,2),u=d[0],_=d[1],h=(0,a.I0)(),m=(0,a.v9)(v.getProducts);(0,c.useEffect)((function(){h(je.Z.fetchProducts())}),[h]),(0,c.useEffect)((function(){h(je.Z.fetchProductsCategories())}),[h]);return(0,n.jsxs)("div",{className:Q,children:[(0,n.jsx)("p",{className:G,children:"Filters"}),(0,n.jsxs)("div",{className:q,children:[(0,n.jsx)(o,{style:Y,title:"Products"}),(0,n.jsxs)("div",{className:X,children:[(0,n.jsx)(k,{}),(0,n.jsx)("div",{className:U,children:(0,n.jsx)(V,{onCategoryFilterSelect:function(e){_(e)}})})]})]}),0!==m.length?(0,n.jsx)("ul",{className:z,children:(0,n.jsx)(b,{onOpenModal:function(e){var t=e.target.closest("li").dataset.id;h(je.Z.getProductById(t)),l(!0)},categoryFilter:u})}):(0,n.jsx)(J._P,{height:"100",width:"100",color:"#e6533c",ariaLabel:"rings-loading",wrapperStyle:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100vh"},wrapperClass:"",visible:!0,firstLineColor:"",middleLineColor:"",lastLineColor:""}),s&&(0,n.jsx)(xe,{onCloseModal:function(){l(!1)}})]})}}}]);
//# sourceMappingURL=88.7210d6c9.chunk.js.map