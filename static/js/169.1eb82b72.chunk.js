"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[169],{4610:function(e,s,t){t.r(s),t.d(s,{default:function(){return He}});var c=t(9439),r=t(2791),a=t(3855),o=t(184),n=function(e){var s=e.title,t=e.style;return(0,o.jsx)("h2",{className:t,children:s})},l=t(5125),d="ProductsItem_cardContainer__Ho9Ps",i="ProductsItem_cardHeadContainer__mQH6j",u="ProductsItem_cardCategoryName__tWROl",_="ProductsItem_addProductBtn__FlW25",m="ProductsItem_addBtnIcon__D7JeO",h="ProductsItem_recommendWrapper__atAvR",p="ProductsItem_labelRecommend__ZlNgg",x="ProductsItem_labelNotRecommended__wZIIp",g="ProductsItem_recommendText__tCLoD",j="ProductsItem_singleCardTitle__-ILEZ",N="ProductsItem_cardRunningIcon__CZ0xb",f="ProductsItem_cardHeaderWrapper__D6Zzb",P="ProductsItem_cardProductStats__0Ausm",w="ProductsItem_cardProdStatItem__CpHza",v="ProductsItem_cardProdStatItemText__1Sjmb",y="ProductsItem_warning__JGZAz",C="ProductsItem_highlightedText__DiAzj",b="ProductsItem_notFoundText__zpC8e",S="ProductsItem_productItem__rV6k2",I={getProducts:function(e){return e.products.productList},getIsLoading:function(e){return e.products.isLoading},getProductsCategories:function(e){return e.products.productsCategories},getFilter:function(e){return e.products.filter},getCurrentProduct:function(e){return e.products.currentProduct},getFilteredProducts:function(e){return e.products.filteredProducts}},B=t(4217),D=function(e){var s=e.onOpenModal,t=e.categoryFilter,c=e.filterByRecommended,r=e.filterByBloodType,n=(0,a.v9)(I.getProducts),D=(0,a.v9)(I.getFilter),k=(0,a.v9)(B.dy).blood,A=n.filter((function(e){return e.title.toLowerCase().includes(D.toLowerCase())})).filter((function(e){return e.category.toLowerCase().includes(t.toLowerCase())})),M=function(){return r&&c?A.filter((function(e){return e.groupBloodNotAllowed[k]})):r&&!c?A.filter((function(e){return!e.groupBloodNotAllowed[k]})):A};return 0===M().length?(0,o.jsxs)("div",{className:y,children:[(0,o.jsxs)("p",{className:b,children:[(0,o.jsx)("span",{className:C,children:"Sorry, no results were found"})," ","for the product filters you selected. You may want to consider other search options to find the product you want. Our range is wide and you have the opportunity to find more options that suit your needs."]}),(0,o.jsx)("p",{className:C,children:"Try changing the search parameters."})]}):M().map((function(e){var t=e.category,c=e.calories,r=e.title,a=e.weight,n=e._id,y=e.groupBloodNotAllowed;return(0,o.jsx)("li",{"data-id":n,className:S,children:(0,o.jsxs)("div",{className:d,children:[(0,o.jsxs)("div",{className:i,children:[(0,o.jsx)("div",{className:u,children:"Diet"}),(0,o.jsxs)("div",{className:h,children:[(0,o.jsx)("span",{className:y[k]?p:x}),(0,o.jsx)("p",{className:g,children:"Recommended"})]}),(0,o.jsxs)("button",{type:"button",className:_,onClick:s,children:["Add",(0,o.jsx)("svg",{className:m,width:"16",height:"16",children:(0,o.jsx)("use",{href:l.Z+"#arrow_add_icon"})})]})]}),(0,o.jsxs)("div",{className:f,children:[(0,o.jsx)("svg",{className:N,width:"24",height:"24",children:(0,o.jsx)("use",{href:l.Z+"#running_stick_figure_icon"})}),(0,o.jsx)("h3",{className:j,children:r})]}),(0,o.jsxs)("div",{className:P,children:[(0,o.jsxs)("p",{className:w,children:[(0,o.jsx)("span",{className:v,children:"Calories:"})," ",c]}),(0,o.jsxs)("p",{className:w,children:[(0,o.jsx)("span",{className:v,children:"Category: "}),t]}),(0,o.jsxs)("p",{className:w,children:[(0,o.jsx)("span",{className:v,children:"Weight:"})," ",a]})]})]})},n)}))},k="FilterProducts_searchLabel__FkkTn",A="FilterProducts_searchIcon__nn4HX",M="FilterProducts_filterBtn__hcT2I",W="FilterProducts_searchField__1sFnJ",Z="FilterProducts_clearSearchIcon__F+9OF",F="FilterProducts_clearFilterBtn__R6Yqk",T=t(4494),L=function(){var e=(0,r.useState)(!0),s=(0,c.Z)(e,2),t=s[0],n=s[1],d=(0,a.I0)();return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("label",{className:k,children:[(0,o.jsx)("button",{type:"button",className:M,children:(0,o.jsx)("svg",{className:A,width:"18",height:"18",children:(0,o.jsx)("use",{href:l.Z+"#search_icon"})})}),!t&&(0,o.jsx)("button",{className:F,type:"button",onClick:function(e){e.currentTarget.nextElementSibling.value="",n(!0),d((0,T.Dg)())},children:(0,o.jsx)("svg",{className:Z,width:"18",height:"18",children:(0,o.jsx)("use",{href:l.Z+"#close_icon"})})}),(0,o.jsx)("input",{className:W,type:"text",placeholder:"Search",onChange:function(e){""!==e.currentTarget.value?n(!1):n(!0)},onBlur:function(e){d((0,T.ft)(e.currentTarget.value))}})]})})},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;return crypto.getRandomValues(new Uint8Array(e)).reduce((function(e,s){return e+=(s&=63)<36?s.toString(36):s<62?(s-26).toString(36).toUpperCase():s>62?"-":"_"}),"")},E="DropDownSelectors_categoryListWrapper__ML40J",Y="DropDownSelectors_dropBtnDown__59GGP",O="DropDownSelectors_dropDownIcon__5aEDt",U="DropDownSelectors_catDropList__YaOVf",H="DropDownSelectors_categoryItem__7CNZq",V="DropDownSelectors_selectCatBtn__HVorH",z="DropDownSelectors_dropDownAllWrapper__2UmxQ",J="DropDownSelectors_dropAllBtn__FRZLp",Q="DropDownSelectors_allDropList__mm178",G="DropDownSelectors_typeItem__76rCW",X=function(e){var s=e.onCategoryFilterSelect,t=e.onTypeSelect,n=(0,r.useState)(!1),d=(0,c.Z)(n,2),i=d[0],u=d[1],_=(0,r.useState)(!1),m=(0,c.Z)(_,2),h=m[0],p=m[1],x=(0,a.v9)(I.getProductsCategories),g=function(e){var t=e.currentTarget.dataset.category;s(t),u(!1)},j=function(e){var s=e.currentTarget.dataset.type;t(s),p(!1)};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:E,children:[(0,o.jsxs)("button",{type:"button",className:Y,onClick:function(){u(!0),p(!1),i&&u(!1)},children:["Categories",(0,o.jsx)("svg",{className:O,width:"18",height:"18",children:(0,o.jsx)("use",{href:l.Z+"#icon-chevron-down"})})]}),i&&(0,o.jsxs)("ul",{className:U,children:[(0,o.jsx)("li",{className:H,children:(0,o.jsx)("button",{type:"button",className:V,"data-category":"all",onClick:g,children:"All categories"})},R(5)),x.map((function(e){return(0,o.jsx)("li",{className:H,children:(0,o.jsx)("button",{type:"button",className:V,onClick:g,"data-category":e,children:e})},R(5))}))]})]}),(0,o.jsxs)("div",{className:z,children:[(0,o.jsxs)("button",{type:"button",className:J,onClick:function(){p(!0),u(!1),h&&p(!1)},children:["All",(0,o.jsx)("svg",{className:O,width:"18",height:"18",children:(0,o.jsx)("use",{href:l.Z+"#icon-chevron-down"})})]}),h&&(0,o.jsxs)("ul",{className:Q,children:[(0,o.jsx)("li",{className:G,children:(0,o.jsx)("button",{type:"button",className:V,onClick:j,"data-type":"all",children:"All"})},R(5)),(0,o.jsx)("li",{className:G,children:(0,o.jsx)("button",{type:"button",className:V,onClick:j,"data-type":"recommended",children:"Recommended"})},R(5)),(0,o.jsx)("li",{className:G,children:(0,o.jsx)("button",{type:"button",className:V,onClick:j,"data-type":"not-recommended",children:"Not recommended"})},R(5))]})]})]})},q=t(5748),K="ProductsPage_dropDownContainer__VJh-k",$="ProductsPage_productsTitle__IauG3",ee="ProductsPage_prodContainer__QPuXY",se="ProductsPage_desktopCntrlWrap__OtYxc",te="ProductsPage_cardsWrapper__k697g",ce="ProductsPage_filtersTitle__MASnC",re="ProductsPage_filtersCtrls__Sl8V6",ae=t(1413),oe=t(4164),ne=t(5705),le=t(1087),de="AddProductSuccess_overlay__bgeXN",ie="AddProductSuccess_successWrap__borPA",ue="AddProductSuccess_closeBasicModal__YLoav",_e="AddProductSuccess_closeBasicModalIcon__jkeXD",me="AddProductSuccess_successData__MrYia",he="AddProductSuccess_successImg__y+iQ6",pe="AddProductSuccess_wellDone__ankeW",xe="AddProductSuccess_kcal__SUwX5",ge="AddProductSuccess_kcalNumber__QwIs1",je="AddProductSuccess_nextBtn__Gd9E-",Ne="AddProductSuccess_linkWrapper__IRdIn",fe="AddProductSuccess_link__mTD8S",Pe="AddProductSuccess_linkArrow__vAYUI",we=t.p+"static/media/avocado.95c6cd4821299887e2bb.png",ve=function(e){var s=e.onCloseModal,t=e.consumedCalories;return(0,o.jsx)("div",{className:de,children:(0,o.jsxs)("div",{className:ie,children:[(0,o.jsx)("button",{type:"button",className:ue,onClick:s,children:(0,o.jsx)("svg",{className:_e,width:"22",height:"22",children:(0,o.jsx)("use",{href:l.Z+"#close_icon"})})}),(0,o.jsxs)("div",{className:me,children:[(0,o.jsx)("img",{src:we,alt:"Success",className:he}),(0,o.jsx)("p",{className:pe,children:"Well done"}),(0,o.jsxs)("p",{className:xe,children:["Calories:"," ",(0,o.jsx)("span",{className:ge,children:t})]}),(0,o.jsx)("button",{type:"button",className:je,onClick:s,children:"Next product"}),(0,o.jsxs)("div",{className:Ne,children:[(0,o.jsxs)(le.rU,{to:"/diary",className:fe,children:["To the diary"," "]}),(0,o.jsx)("svg",{width:"16",height:"16",children:(0,o.jsx)("use",{href:l.Z+"#arrow_add_icon",className:Pe})})]})]})]})})},ye="BasicModalWindow_overlay__s-mcD",Ce="BasicModalWindow_basicModalContainer__P3nRC",be="BasicModalWindow_selectedProductDescr__+Yh-+",Se="BasicModalWindow_productCardPopUp__d3+uW",Ie="BasicModalWindow_caloriesCount__qECr1",Be="BasicModalWindow_basicModalSelectedProduct__z2jpB",De="BasicModalWindow_basicModalFormInput__bpJz9",ke="BasicModalWindow_weightLabel__gPTUQ",Ae="BasicModalWindow_closeBasicModal__hSwTK",Me="BasicModalWindow_closeBasicModalIcon__bsEtp",We="BasicModalWindow_basicModalForm__fk1Ur",Ze="BasicModalWindow_selectedProdBtns__d3Fm6",Fe="BasicModalWindow_addDiaryBtn__nsOIB",Te="BasicModalWindow_cancelAddBtn__eWEAQ",Le="BasicModalWindow_kcalNumber__dxhRY",Re=t(5119),Ee=document.querySelector("#modal-root"),Ye=function(e){var s=e.onCloseModal,t=(0,r.useState)(0),n=(0,c.Z)(t,2),d=n[0],i=n[1],u=(0,r.useState)(!1),_=(0,c.Z)(u,2),m=_[0],h=_[1],p=(0,a.I0)(),x=(0,a.v9)(I.getCurrentProduct),g=x.title,j=d*x.calories/100;return(0,oe.createPortal)(m?(0,o.jsx)(ve,{onCloseModal:s,consumedCalories:j}):(0,o.jsx)("div",{className:ye,children:(0,o.jsxs)("div",{className:Ce,children:[(0,o.jsx)("button",{type:"button",className:Ae,onClick:s,children:(0,o.jsx)("svg",{className:Me,width:"22",height:"22",children:(0,o.jsx)("use",{href:l.Z+"#close_icon"})})}),(0,o.jsxs)("div",{className:be,children:[(0,o.jsxs)("div",{className:Se,children:[(0,o.jsx)(ne.J9,{initialValues:{product:g},children:(0,o.jsxs)(ne.l0,{className:We,children:[(0,o.jsx)(ne.gN,{as:function(e){return(0,o.jsx)("input",(0,ae.Z)({className:Be,type:"text",value:g},e))},name:"product",value:g,className:Be}),(0,o.jsx)(ne.gN,{className:De,type:"text",name:"weight",label:"grams",onChange:function(e){i(e.currentTarget.value)}})]})}),(0,o.jsx)("span",{className:ke,children:"grams"})]}),(0,o.jsxs)("p",{className:Ie,children:["Calories:",(0,o.jsxs)("span",{className:Le,children:[" ",j||0]})]}),(0,o.jsxs)("div",{className:Ze,children:[(0,o.jsx)("button",{type:"submit",className:Fe,onClick:function(e){e.preventDefault();var s={productId:x._id,amount:d,calories:j};p((0,Re.VI)(s)),h(!0)},children:"Add to diary"}),(0,o.jsx)("button",{type:"button",className:Te,onClick:s,children:"Cancel"})]})]})]})}),Ee)},Oe=t(5612),Ue=t(9273),He=function(){var e=(0,r.useState)(!1),s=(0,c.Z)(e,2),t=s[0],l=s[1],d=(0,r.useState)(""),i=(0,c.Z)(d,2),u=i[0],_=i[1],m=(0,r.useState)(!1),h=(0,c.Z)(m,2),p=h[0],x=h[1],g=(0,r.useState)(!1),j=(0,c.Z)(g,2),N=j[0],f=j[1],P=(0,a.I0)(),w=(0,a.v9)(I.getProducts);(0,r.useEffect)((function(){P((0,Ue.n6)())}),[P]),(0,r.useEffect)((function(){P(Oe.Z.fetchProducts())}),[P]),(0,r.useEffect)((function(){P(Oe.Z.fetchProductsCategories())}),[P]);return(0,o.jsxs)("div",{className:ee,children:[(0,o.jsx)("p",{className:ce,children:"Filters"}),(0,o.jsxs)("div",{className:se,children:[(0,o.jsx)(n,{style:$,title:"Products"}),(0,o.jsxs)("div",{className:re,children:[(0,o.jsx)(L,{}),(0,o.jsx)("div",{className:K,children:(0,o.jsx)(X,{onCategoryFilterSelect:function(e){_("all"!==e?e:"")},onTypeSelect:function(e){switch(e){case"recommended":x(!0),f(!0);break;case"not-recommended":x(!1),f(!0);break;default:x(!1),f(!1)}}})})]})]}),0!==w.length?(0,o.jsx)("ul",{className:te,children:(0,o.jsx)(D,{onOpenModal:function(e){var s=e.target.closest("li").dataset.id;P(Oe.Z.getProductById(s)),l(!0)},categoryFilter:u,filterByRecommended:p,filterByBloodType:N})}):(0,o.jsx)(q._P,{height:"100",width:"100",color:"#e6533c",ariaLabel:"rings-loading",wrapperStyle:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100vh"},wrapperClass:"",visible:!0,firstLineColor:"",middleLineColor:"",lastLineColor:""}),t&&(0,o.jsx)(Ye,{onCloseModal:function(){l(!1)}})]})}},4217:function(e,s,t){t.d(s,{dy:function(){return c}});var c=function(e){return e.auth.user}}}]);
//# sourceMappingURL=169.1eb82b72.chunk.js.map